<%= render "base" %>

<div class="page-header">
  <h1><%= t("admin.pages.api.v3") %>API</h1>
</div>
<div class="api-description">
  <blockquote>
    <p class="text-info">该API提仅供拍立导项目使用！ 当前API版本为0.3.0，对应的拍立导版本为v3.0。</p>
    <small>最后更新时间 2012-12-24 21:45</small>
  </blockquote>
</div>
<div class="api-list">
  <h4>API列表</h4>
  <ol>
    <li><a href="#pictures">pictures</a></li>
    <li><a href="#pictures-id">pictures/id</a></li>
    <li><a href="#places-search">places/search</a></li>
    <li><a href="#places-id">places/id</a></li>
    <li><a href="#places-id-mp3">places/id/mp3</a></li>
  </ol>
</div>
<div class="api-content">
  <div id="pictures" class="api well">
    <h3 class="name">/pictures</h3>
    <small class="desc">上传图片并返回匹配结果，结果是一个包含匹配的景点数组。</small>
    <dl>
      <dt>URL</dt>
      <dd><pre class="docs-example"><%= api_v3_pictures_url(:format => :json) %></pre></dd>
      <dt>HTTP请求方式</dt>
      <dd>POST<dd>
      <dt>支持格式</dt>
      <dd>json<dd>
      <dt>是否需要登录</dt>
      <dd>否<dd>
      <dt>请求参数</dt>
      <dd>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>名字</th>
              <th>类型</th>
              <th>类别</th>
              <th>说明</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td>scenic</td>
              <td>整数</td>
              <td>必选参数</td>
              <td>景区编号，以指定上传（扫描）的图片库。</td>
            </tr>
            <tr>
              <td>2</td>
              <td>image</td>
              <td>字符串</td>
              <td>必选参数</td>
              <td>需要上传（扫描）的图片路径。</td>
            </tr>
          </tbody>
        </table>
      <dd>
    </dl>
  </div>
  <div id="pictures-id" class="api well">
    <h3 class="name">/pictures/id</h3>
    <small class="desc">通过指定的id查找以入库的图片，返回指定的图片信息（名字，图片地址，缩略图等）。</small>
    <dl>
      <dt>URL</dt>
      <dd>
        <pre class="docs-example"><%= api_v3_picture_url(:id, :format => :json) %></pre>
      </dd>
      <dt>HTTP请求方式</dt>
      <dd>GET</dd>
      <h6>支持格式</h6>
      <dd>json</dd>
      <dt>是否需要登录</dt>
      <dd>否</dd>
      <dt>请求参数</dt>
      <dd>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>名字</th>
              <th>类型</th>
              <th>类别</th>
              <th>说明</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td>id</td>
              <td>整数</td>
              <td>必选参数</td>
              <td>图片的id。</td>
            </tr>
          </tbody>
        </table>
      </dd>
    </dl>
  </div>
  <div id="places-search" class="api well">
    <h3 class="name">/places/search</h3>
    <small class="desc">模糊搜索景点，并返回一个数组。</small>
    <dl>
      <dt>URL</dt>
      <dd>
        <pre class="docs-example"><%= search_api_v3_places_url(:format => :json) %></pre>
      </dd>
      <dt>HTTP请求方式</dt>
      <dd>POST</dd>
      <h6>支持格式</h6>
      <dd>json</dd>
      <dt>是否需要登录</dt>
      <dd>否</dd>
      <dt>请求参数</dt>
      <dd>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>名字</th>
              <th>类型</th>
              <th>类别</th>
              <th>说明</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td>name</td>
              <td>字符串</td>
              <td>必选参数</td>
              <td>搜索关键字。</td>
            </tr>
          </tbody>
        </table>
      </dd>
    </dl>
  </div>
  <div id="places-id" class="api well">
    <h3 class="name">/places/id</h3>
    <small class="desc">通过指定的Id查找景点，返回景点信息（名字等）。</small>
    <dl>
      <dt>URL</dt>
      <dd>
        <pre class="docs-example"><%= api_v3_place_url(:id, :format => :json) %></pre>
      </dd>
      <dt>HTTP请求方式</dt>
      <dd>GET</dd>
      <h6>支持格式</h6>
      <dd>json</dd>
      <dt>是否需要登录</dt>
      <dd>否</dd>
      <dt>请求参数</dt>
      <dd>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>名字</th>
              <th>类型</th>
              <th>类别</th>
              <th>说明</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td>id</td>
              <td>整数</td>
              <td>必选参数</td>
              <td>景区id。</td>
            </tr>
          </tbody>
        </table>
      </dd>
    </dl>
  </div>
  <div id="places-id-mp3" class="api well">
    <h3 class="name">/places/id/mp3</h3>
    <small class="desc">通过下载指定景区的mp3文件。</small>
    <dl>
      <dt>URL</dt>
      <dd>
        <pre class="docs-example"><%= mp3_api_v3_place_url(:id) %></pre>
      </dd>
      <dt>HTTP请求方式</dt>
      <dd>GET</dd>
      <h6>支持格式</h6>
      <dd>MP3</dd>
      <dt>是否需要登录</dt>
      <dd>否</dd>
      <dt>请求参数</dt>
      <dd>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>名字</th>
              <th>类型</th>
              <th>类别</th>
              <th>说明</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td>id</td>
              <td>整数</td>
              <td>必选参数</td>
              <td>景区id。</td>
            </tr>
          </tbody>
        </table>
      </dd>
    </dl>
  </div>
</div>